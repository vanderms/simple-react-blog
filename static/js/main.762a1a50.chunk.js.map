{"version":3,"sources":["components/post-preview/post-preview.module.css","components/create-post/create-post.module.css","components/navbar/navbar.js","components/post-preview/post-preview.js","custom-hooks/use-fetch.js","components/home/home.js","components/create-post/create-post.js","components/blog-details/blog-details.js","components/not-found/not-found.js","components/footer/footer.js","components/app/app.js","index.js","components/navbar/navbar.module.css"],"names":["module","exports","Navbar","useState","isSidebarOpen","setIsSidebarOpen","location","useLocation","useEffect","className","classes","navbar","to","title","links","menu","onClick","sidebar","closeButton","backdrop","PostPreview","post","postPreview","id","author","content","body","useFetch","Number","parseInt","URL","data","setData","isLoading","setIsLoading","error","setError","abortController","AbortController","a","fetch","signal","res","ok","Error","json","window","localStorage","setItem","JSON","stringify","posts","filter","name","console","log","message","getItem","fetchData","parse","getDataFromLocalStorage","abort","Home","reverse","map","CreatePost","setTitle","setContent","setAuthor","history","useHistory","onSubmit","e","preventDefault","length","push","styles","form","formFirstRow","htmlFor","type","value","onChange","target","required","cols","rows","disabled","BlogDetails","useParams","handleOnClick","NotFound","class","Footer","Date","getFullYear","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.762a1a50.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"postPreview\":\"post-preview_postPreview__2-_ZC\",\"title\":\"post-preview_title__rNNpa\",\"content\":\"post-preview_content__2k3ZA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"create-post_form__1IcsY\",\"formFirstRow\":\"create-post_formFirstRow__2w1ak\"};","import classes from \"./navbar.module.css\";\r\nimport { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nfunction Navbar(){\r\n\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n  const location = useLocation();\r\n\r\n  useEffect(() =>{\r\n    setIsSidebarOpen(false);\r\n  }, [location]);\r\n\r\n  return (\r\n    <>\r\n      <nav className={ classes.navbar }>\r\n        <Link to='/'>\r\n          <h1 className={classes.title}>A Simple Blog</h1>\r\n        </Link>       \r\n        <div className={classes.links}>\r\n          <Link to=\"/\">Home</Link>\r\n          <Link to=\"/create\">Novo Post</Link>          \r\n        </div>       \r\n        <div className={classes.menu} onClick={() => setIsSidebarOpen(true)}>&#9776;</div>\r\n      </nav>\r\n      { isSidebarOpen &&\r\n        <>\r\n        <nav className={classes.sidebar}>        \r\n          <Link to=\"/\">Home</Link>\r\n          <Link to=\"/create\">Novo Post</Link>        \r\n          <div className={classes.closeButton} onClick={() => setIsSidebarOpen(false)}>&#10005;</div> \r\n        </nav>\r\n       \r\n        <div className={classes.backdrop} onClick={() => setIsSidebarOpen(false)}></div>\r\n        </>\r\n      }     \r\n    </>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import classes from './post-preview.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction PostPreview({post}){\r\n  return (\r\n    <div className={classes.postPreview}>\r\n      <Link to={`/posts/${post.id}`} >\r\n        <h3 className={classes.title}>{post.title}</h3>      \r\n        <small>Autor: {post.author}</small>\r\n        <p className={classes.content}> {post.body}</p>\r\n      </Link>           \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostPreview;","import {useState, useEffect} from 'react';\r\n\r\nfunction useFetch(id){\r\n\r\n  id = Number.parseInt(id);\r\n  const URL = 'assets/db.json'; \r\n  const [data, setData] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {    \r\n\r\n    const abortController = new AbortController();\r\n\r\n    function getDataFromLocalStorage(){\r\n      let posts = JSON.parse(localStorage.getItem('posts'));\r\n      \r\n      if(id){\r\n        let post = posts.filter(post => {         \r\n          return post.id === id;\r\n        })[0];                 \r\n        setData(post);             \r\n      } else {       \r\n        setData(posts);\r\n      }\r\n      setIsLoading(false);\r\n      setError(false);\r\n    }\r\n\r\n    async function fetchData(){\r\n      try {\r\n        const res = await fetch(URL, { signal: abortController.signal });\r\n        \r\n        if(!res.ok) {\r\n          throw Error(\"Failed to connect to the server.\");\r\n        }\r\n\r\n        const data = await res.json();\r\n        window.localStorage.setItem('posts', JSON.stringify(data.posts));                \r\n\r\n        if(id){\r\n          let post = data.posts.filter(post => {         \r\n            return post.id === id;\r\n          })[0];                 \r\n          setData(post);                  \r\n        } else {       \r\n          setData(data.posts);\r\n        }\r\n        setIsLoading(false);\r\n        setError(false);\r\n\r\n      } catch(err){\r\n        if(err.name === \"AbortError\"){\r\n          console.log('fetch aborted');          \r\n        } else {\r\n          setIsLoading(false);\r\n          setError(err.message);   \r\n        }\r\n      }\r\n    }\r\n    \r\n    if(window.localStorage.getItem('posts') === null){\r\n      fetchData();      \r\n    } else {      \r\n      getDataFromLocalStorage();\r\n    }\r\n    \r\n    return () => abortController.abort(); \r\n  }, [id]);  \r\n\r\n  return { data, isLoading, error };\r\n}\r\n\r\nexport default useFetch;","import PostPreview from '../post-preview/post-preview';\r\nimport useFetch from '../../custom-hooks/use-fetch';\r\n\r\nfunction Home(){\r\n\r\n  const { data : posts , isLoading, error } = useFetch();  \r\n  \r\n  return (\r\n    <div className=\"section-container\">\r\n      { error && <div>{ error }</div>}\r\n      { isLoading && <div>Loading... </div>}\r\n      { posts && [...posts].reverse().map(post => <PostPreview \r\n        post={ post }\r\n        key={ post.id } \r\n        />)\r\n      } \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import { useState } from 'react';\r\nimport styles from './create-post.module.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction CreatePost(){\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    const post = { title, body: content, author };\r\n    \r\n    setIsLoading(true);\r\n\r\n    let posts = window.localStorage.getItem('posts');\r\n    posts = JSON.parse(posts);\r\n    post.id = posts[posts.length - 1].id + 1; \r\n    posts.push(post);\r\n    window.localStorage.setItem('posts', JSON.stringify(posts));\r\n    console.log('new post added');\r\n    setIsLoading(false);\r\n    history.push('/');   \r\n  }\r\n\r\n  return (\r\n    <div className=\"section-container\">      \r\n      <h2>Escreva uma nova publicação</h2>\r\n      <form onSubmit={ handleSubmit } className={styles.form}>\r\n        <div className={styles.formFirstRow}>\r\n          <div>\r\n            <label htmlFor='title'>Título: </label>   \r\n            <input \r\n              type=\"text\"\r\n              id='title'\r\n              value={ title }\r\n              onChange={(e)=>setTitle(e.target.value)}\r\n              required\r\n            />        \r\n          </div>\r\n          <div>\r\n            <label htmlFor='author'>Autor: </label>\r\n            <input \r\n              type=\"text\"\r\n              id='author'\r\n              value={ author }\r\n              onChange={(e)=>setAuthor(e.target.value)}\r\n              required\r\n            />      \r\n          </div>\r\n        </div>\r\n        <label htmlFor=\"content\">Conteúdo:\r\n          <textarea\r\n            id=\"content\" \r\n            cols=\"30\" \r\n            rows=\"10\"\r\n            value={content}\r\n            onChange={(e)=>setContent(e.target.value)}\r\n            required>\r\n          </textarea>     \r\n        </label>        \r\n        { isLoading ? \r\n          <button disabled>...</button> :\r\n          <button>Publicar</button>\r\n        }        \r\n      </form>         \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreatePost;","import { useParams } from \"react-router\";\r\nimport useFetch from '../../custom-hooks/use-fetch';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\n\r\nexport default function BlogDetails(){\r\n  \r\n  const { id } = useParams();\r\n  const { data: post, error, isLoading } = useFetch(id);\r\n  const history = useHistory();\r\n\r\n  const handleOnClick = (id)=>{\r\n    let posts = window.localStorage.getItem('posts');\r\n    posts = JSON.parse(posts);\r\n    posts = posts.filter(post => post.id !== id);\r\n    window.localStorage.setItem('posts', JSON.stringify(posts));\r\n    history.push('/');   \r\n  }  \r\n  \r\n  return (\r\n    <div className=\"blog-details section-container\">\r\n      { isLoading && <div>Loading...</div> }\r\n      { error && <div>{ error }</div> }\r\n      { post && (\r\n        <article>\r\n          <h2>{ post.title }</h2>\r\n          <p><small>Autor: { post.author } </small></p>\r\n          <div>{ post.body }</div>\r\n          <button onClick={() => handleOnClick(post.id)} className='remove-button'>Remover</button>\r\n        </article>  \r\n      )}      \r\n    </div>\r\n  );\r\n}","import { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function NotFound(){\r\n  return (\r\n    <div class='section-container'>\r\n      <h2>Ops...</h2>\r\n      <p>A página que você procura não foi encontrada.</p>\r\n      <Link to='/'>Voltar para a homepage</Link>\r\n    </div>\r\n  );\r\n}","export default function Footer(){\r\n  return (\r\n    <footer className='section-container'>\r\n       <small>© 2021 - {new Date().getFullYear()} vanderms.Todos os direitos reservados.</small>\r\n    </footer>\r\n  )\r\n}","import Navbar from '../navbar/navbar';\nimport Home from '../home/home';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport CreatePost from '../create-post/create-post';\nimport BlogDetails from '../blog-details/blog-details';\nimport NotFound from '../not-found/not-found';\nimport Footer from '../footer/footer';\n\nfunction App() {  \n  return (\n    <Router>\n    <div className=\"App\">\n      <Navbar/>\n      <main>\n        <Switch>\n          <Route exact path='/'>\n            <Home/>\n          </Route>  \n          <Route path=\"/create\">\n            <CreatePost/>\n          </Route>\n          <Route path=\"/posts/:id\">\n            <BlogDetails/>\n          </Route>\n          <Route path='*'>\n            <NotFound/>            \n          </Route>\n        </Switch>       \n      </main>\n    </div>\n    <Footer/>\n    </Router>   \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/app';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"navbar_navbar__2UZ5p\",\"title\":\"navbar_title__n47LR\",\"links\":\"navbar_links__1R09e\",\"menu\":\"navbar_menu__1UcCx\",\"closeButton\":\"navbar_closeButton__3wlhf\",\"sidebar\":\"navbar_sidebar__3LpAa\",\"backdrop\":\"navbar_backdrop__qdJUX\"};"],"sourceRoot":""}